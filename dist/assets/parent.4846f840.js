import{j as O,u as S,e as c,S as U,d as j,__tla as x}from"./index.356a4008.js";import{K as V,aC as z,aD as H,aH as Y,az as d,a1 as Z,l as k,I as b,n as A,k as q,a0 as B,i as F,ak as G,o as f,a as M,Y as r,S as o,_ as h,u as e,R as y,T as p,Z as w,U as L,V as g,aI as W}from"./vue.6cd422f6.js";let I,J=Promise.all([(()=>{try{return x}catch{}})()]).then(async()=>{let R,_;R={class:"layout-parent"},_=V({name:"layoutParentView"}),I=V({..._,setup(Q){const T=z(()=>j(()=>import("./iframes.b7db773c.js"),["assets/iframes.b7db773c.js","assets/vue.6cd422f6.js"])),t=H(),N=Y(),P=O(),C=S(),{keepAliveNames:u,cachedViews:E}=d(P),{themeConfig:v}=d(C),a=Z({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),l=k(()=>v.value.animation),n=k(()=>t.meta.isIframe),D=async()=>{N.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))})};return b(()=>{a.keepAliveNameList=u.value,c.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=u.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",A(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=u.value})})}),q(()=>{D(),A(()=>{setTimeout(()=>{if(v.value.isCacheTagsView){let s=U.get("tagsViewList")||[];E.value=s.filter(i=>{var m;return(m=i.meta)==null?void 0:m.isKeepAlive}).map(i=>i.name)}},0)})}),B(()=>{c.off("onTagsViewRefreshRouterView",()=>{})}),F(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const m=G("router-view");return f(),M("div",R,[r(m,null,{default:o(({Component:K})=>[r(h,{name:e(l),mode:"out-in"},{default:o(()=>[(f(),y(W,null,[e(t).meta.isKeepAlive?p((f(),y(L(K),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]]):g("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[e(t).meta.isKeepAlive?g("",!0):p((f(),y(L(K),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[p(r(e(T),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(l),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[w,e(n)]])]),_:1},8,["name"])])}}})});export{J as __tla,I as default};
